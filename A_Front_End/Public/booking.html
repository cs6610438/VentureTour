<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1 Booking Package</title>
    <link rel="stylesheet" href="../CSS/booking1.css">
</head>
<body>

    <!-- Package Info -->
    <div class="packageInfo">
        <div class="showPackage"> 
            <h2>Japan Fuji 5D4N</h2>
            <p>Tokyo 5 วัน ราคาเริ่มต้น: <span id="price">25,990</span> บาท/คน</p>
            
            <div class="peopleCount">
                <div>จำนวนผู้เดินทาง:</div>
                <div class="quan">
                    <button onclick="changeQty(-1)">-</button>
                    <input type="number" id="qty" value="1" min="1" max="15">
                    <button onclick="changeQty(1)">+</button>
                </div>
            </div>
        </div>

        <!-- Traveler Info Form -->
        <div class="travelers">
            <h2>Traveler Information</h2>
            <div id="travelerList"></div>
        </div>

        <!-- Summary -->
        <div class="summary">
        <h2>Summary Detail</h2>
            <div class="sumBox">
                <div class="pricePer">
                    <div>Price per person</div>
                    <div id="perPerson">25,990</div>
                </div>
                <div class="quanTra">
                    <div>Travelers</div>
                    <div id="showQty">1</div>
                </div>
                <div class="sumTotal">
                    <div>Subtotal (before discount code)</div>
                    <div id="total">25,990 Baht</div>
                </div>
            </div>

            <div class="btngroup">
                <a href="../Public/allPackage.html" class="btn">Back</a>
                <a href="../Public/sumBooking.html" class="btn">Next</a>
            </div>
        </div>
    </div>

    <script>
        const pricePerPerson = 25990;
        function renderTravelers() {
            const qty = parseInt(document.getElementById('qty').value);
            const list = document.getElementById('travelerList');
            list.innerHTML = "";

            for (let i = 1; i <= qty; i++) {
                list.innerHTML += `
                <div class="traveler">
                    <h3>Traveler ${i}</h3>
                    <label>Salutation</label>
                    <select>
                        <option>Mr.</option>
                        <option>Ms.</option>
                        <option>Mrs.</option>
                    </select>

                    <label>Firstname</label>
                    <input type="text" name="firstname" pattern="[A-Za-zก-๙\s]+" required>

                    <label>Lastname</label>
                    <input type="text" name="lastname" pattern="[A-Za-zก-๙\s]+" required>

                    <label>Passport</label>
                    <input type="text"  name="passport" pattern="[A-Z0-9]{6,9}" required>

                    <label>Age</label>
                    <input type="number" name="age" min="1" max="100" required>

                    <label>Telphone</label>
                    <input type="text"  name="tel" pattern="^0[0-9]{8,9}$" required>
                </div>
                `;
            }
            updateSummary();
        }

        function changeQty(num) {
            let qty = parseInt(document.getElementById('qty').value);
            qty = qty + num;
            if (qty < 1) qty = 1;
            if (qty > 10) qty = 15;
            document.getElementById('qty').value = qty;
            renderTravelers();
        }

        function updateSummary() {
            const qty = parseInt(document.getElementById('qty').value);
            document.getElementById('showQty').innerText = qty;

            const total = qty * pricePerPerson;
            document.getElementById('total').innerText = total.toLocaleString() + " Baht";
        }

        renderTravelers();
    </script>
</body>
</html>
